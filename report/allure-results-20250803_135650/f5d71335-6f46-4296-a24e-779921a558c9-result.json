{"name": "test_chat_gateway_performance[case0]", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: HTTPConnectionPool(host='localhost', port=8688): Max retries exceeded with url: /api/chatGatWay-internal (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))", "trace": "C:\\Python313\\Lib\\site-packages\\urllib3\\connection.py:198: in _new_conn\n    sock = connection.create_connection(\nC:\\Python313\\Lib\\site-packages\\urllib3\\util\\connection.py:85: in create_connection\n    raise err\nC:\\Python313\\Lib\\site-packages\\urllib3\\util\\connection.py:73: in create_connection\n    sock.connect(sa)\nE   ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。\n\nThe above exception was the direct cause of the following exception:\nC:\\Python313\\Lib\\site-packages\\urllib3\\connectionpool.py:787: in urlopen\n    response = self._make_request(\nC:\\Python313\\Lib\\site-packages\\urllib3\\connectionpool.py:493: in _make_request\n    conn.request(\nC:\\Python313\\Lib\\site-packages\\urllib3\\connection.py:494: in request\n    self.endheaders()\nC:\\Python313\\Lib\\http\\client.py:1333: in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\nC:\\Python313\\Lib\\http\\client.py:1093: in _send_output\n    self.send(msg)\nC:\\Python313\\Lib\\http\\client.py:1037: in send\n    self.connect()\nC:\\Python313\\Lib\\site-packages\\urllib3\\connection.py:325: in connect\n    self.sock = self._new_conn()\nC:\\Python313\\Lib\\site-packages\\urllib3\\connection.py:213: in _new_conn\n    raise NewConnectionError(\nE   urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。\n\nThe above exception was the direct cause of the following exception:\nC:\\Python313\\Lib\\site-packages\\requests\\adapters.py:667: in send\n    resp = conn.urlopen(\nC:\\Python313\\Lib\\site-packages\\urllib3\\connectionpool.py:841: in urlopen\n    retries = retries.increment(\nC:\\Python313\\Lib\\site-packages\\urllib3\\util\\retry.py:519: in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\nE   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8688): Max retries exceeded with url: /api/chatGatWay-internal (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))\n\nDuring handling of the above exception, another exception occurred:\ncommon\\test_utils.py:121: in execute_http_request\n    resp = http_post(url, json_data=params, headers=headers)\nutils\\http_utils.py:335: in http_post\n    return http_utils.post(url, data=data, json_data=json_data, headers=headers, token=token, **kwargs)\nutils\\http_utils.py:187: in post\n    response = self._make_request('POST', url, headers=headers, token=token, **request_kwargs, **kwargs)\nutils\\http_utils.py:129: in _make_request\n    response = self.session.request(\nC:\\Python313\\Lib\\site-packages\\requests\\sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\nC:\\Python313\\Lib\\site-packages\\requests\\sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\nC:\\Python313\\Lib\\site-packages\\requests\\adapters.py:700: in send\n    raise ConnectionError(e, request=request)\nE   requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8688): Max retries exceeded with url: /api/chatGatWay-internal (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))\n\nDuring handling of the above exception, another exception occurred:\ntestcase\\test_chat_gateway_optimized.py:89: in test_chat_gateway_performance\n    response = execute_http_request(\ncommon\\test_utils.py:308: in execute_http_request\n    return test_utils.execute_http_request(url, method, params, headers, use_allure)\ncommon\\test_utils.py:133: in execute_http_request\n    raise Exception(error_msg)\nE   Exception: 请求失败: HTTPConnectionPool(host='localhost', port=8688): Max retries exceeded with url: /api/chatGatWay-internal (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))"}, "description": "聊天网关性能测试", "steps": [{"name": "测试设置: Unknown.test_chat_gateway_performance[case0]", "status": "passed", "start": 1754200662547, "stop": 1754200662553}, {"name": "测试用例: 聊天网关性能测试", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: HTTPConnectionPool(host='localhost', port=8688): Max retries exceeded with url: /api/chatGatWay-internal (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))\n", "trace": "  File \"E:\\bgtest\\utils\\allure_decorators.py\", line 31, in wrapper\n    result = func(*args, **kwargs)\n  File \"E:\\bgtest\\utils\\test_decorators.py\", line 29, in wrapper\n    return func(*args, **kwargs)\n  File \"E:\\bgtest\\utils\\test_decorators.py\", line 300, in wrapper\n    return func(*args, **kwargs)\n  File \"E:\\bgtest\\testcase\\test_chat_gateway_optimized.py\", line 89, in test_chat_gateway_performance\n    response = execute_http_request(\n        url=url,\n    ...<2 lines>...\n        use_allure=False\n    )\n  File \"E:\\bgtest\\common\\test_utils.py\", line 308, in execute_http_request\n    return test_utils.execute_http_request(url, method, params, headers, use_allure)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\bgtest\\common\\test_utils.py\", line 133, in execute_http_request\n    raise Exception(error_msg)\n"}, "steps": [{"name": "执行性能测试: 1", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: HTTPConnectionPool(host='localhost', port=8688): Max retries exceeded with url: /api/chatGatWay-internal (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))\n", "trace": "  File \"E:\\bgtest\\testcase\\test_chat_gateway_optimized.py\", line 89, in test_chat_gateway_performance\n    response = execute_http_request(\n        url=url,\n    ...<2 lines>...\n        use_allure=False\n    )\n  File \"E:\\bgtest\\common\\test_utils.py\", line 308, in execute_http_request\n    return test_utils.execute_http_request(url, method, params, headers, use_allure)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\bgtest\\common\\test_utils.py\", line 133, in execute_http_request\n    raise Exception(error_msg)\n"}, "steps": [{"name": "发送POST请求到 http://localhost:8688/api/chatGatWay-internal", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: HTTPConnectionPool(host='localhost', port=8688): Max retries exceeded with url: /api/chatGatWay-internal (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000012610A5BAC0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))\n", "trace": "  File \"E:\\bgtest\\common\\test_utils.py\", line 133, in execute_http_request\n    raise Exception(error_msg)\n"}, "attachments": [{"name": "错误信息", "source": "cd774729-7775-48f6-be45-bc48003a609f-attachment.txt", "type": "text/plain"}], "start": 1754200662555, "stop": 1754200666659}], "start": 1754200662555, "stop": 1754200666662}], "attachments": [{"name": "测试用例异常: 聊天网关性能测试", "source": "6e578eeb-fb65-4cc6-ad85-e856b88c1cff-attachment.json", "type": "application/json"}], "start": 1754200662555, "stop": 1754200666676}, {"name": "测试清理: Unknown.test_chat_gateway_performance[case0]", "status": "passed", "start": 1754200667353, "stop": 1754200667359}], "attachments": [{"name": "测试异常", "source": "0805e168-6bee-43b1-99fe-88e223aceeea-attachment.json", "type": "application/json"}, {"name": "异常堆栈", "source": "d236227d-a25e-42f2-81de-360ec01ec2ea-attachment.txt", "type": "text/plain"}, {"name": "log", "source": "99cbce46-2da7-4015-a3d7-0a84b1c221b9-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'case_id': 1, 'description': '正常请求-简单问题', 'url': 'http://localhost:8688/api/chatGatWay-internal', 'method': 'POST', 'params': {'message': '你好，今天天气怎么样？', 'user_id': 'user001'}, 'expected_result': {'code': 0, 'msg': 'success', 'data': {'reply': '今天天气晴朗，适合出行。'}}}"}], "start": 1754200662555, "stop": 1754200666684, "uuid": "9c631175-0107-4682-89fe-3c3f27e157d1", "historyId": "f658b63bc95a401aa35d02a1d3a63d5a", "testCaseId": "ec3695f495f92b5d8b7b1e6c26dc9013", "fullName": "testcase.test_chat_gateway_optimized#test_chat_gateway_performance", "labels": [{"name": "severity", "value": "minor"}, {"name": "feature", "value": "聊天网关"}, {"name": "story", "value": "性能测试"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_chat_gateway_optimized"}, {"name": "host", "value": "Ly0217"}, {"name": "thread", "value": "231192-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_chat_gateway_optimized"}], "titlePath": ["testcase", "test_chat_gateway_optimized.py"]}
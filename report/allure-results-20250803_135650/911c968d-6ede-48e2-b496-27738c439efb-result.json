{"name": "test_chat_gateway_error_handling", "status": "passed", "description": "测试聊天网关错误处理", "steps": [{"name": "测试设置: TestChatGatewayAdvanced.test_chat_gateway_error_handling", "status": "passed", "start": 1754200681737, "stop": 1754200681743}, {"name": "测试用例: 聊天网关错误处理", "status": "passed", "steps": [{"name": "执行用例: error_001 - 测试无效URL", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: Expecting value: line 1 column 1 (char 0)\n", "trace": "  File \"E:\\bgtest\\common\\test_utils.py\", line 274, in execute_test_case\n    response = self.execute_http_request(\n        url=case_data['url'],\n    ...<3 lines>...\n        use_allure=use_allure\n    )\n  File \"E:\\bgtest\\common\\test_utils.py\", line 133, in execute_http_request\n    raise Exception(error_msg)\n"}, "steps": [{"name": "准备请求参数", "status": "passed", "attachments": [{"name": "请求参数", "source": "1e026f43-f3bf-4e2b-a622-e5a1f05dc541-attachment.json", "type": "application/json"}], "start": 1754200681747, "stop": 1754200681749}, {"name": "发送POST请求到 https://invalid-url.com/chat", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: Expecting value: line 1 column 1 (char 0)\n", "trace": "  File \"E:\\bgtest\\common\\test_utils.py\", line 133, in execute_http_request\n    raise Exception(error_msg)\n"}, "steps": [{"name": "HTTP请求: POST https://invalid-url.com/chat", "status": "broken", "statusDetails": {"message": "requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n", "trace": "  File \"E:\\bgtest\\utils\\allure_utils.py\", line 288, in http_request_with_allure\n    response = http_utils.request(method, url, **kwargs)\n  File \"E:\\bgtest\\utils\\http_utils.py\", line 293, in request\n    return response.json() if response.content else None\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\site-packages\\requests\\models.py\", line 980, in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\n"}, "attachments": [{"name": "Request Details", "source": "65eed651-851a-462d-9c10-9043636a1a15-attachment.json", "type": "application/json"}, {"name": "HTTP请求异常: POST https://invalid-url.com/chat", "source": "d9593c67-d8f2-4a06-88d0-b168796a1d25-attachment.json", "type": "application/json"}], "start": 1754200681750, "stop": 1754200683331}], "attachments": [{"name": "错误信息", "source": "5c07f5ed-1d1a-4f4e-a5c9-8fafc043a999-attachment.txt", "type": "text/plain"}], "start": 1754200681749, "stop": 1754200683334}], "attachments": [{"name": "测试用例: error_001", "source": "2c65a55c-ed30-45c9-ac61-ab1ef5886a4c-attachment.json", "type": "application/json"}], "start": 1754200681746, "stop": 1754200683336}, {"name": "执行用例: error_002 - 测试无效参数", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: HTTPSConnectionPool(host='api.example.com', port=443): Max retries exceeded with url: /chat (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000012610A3E490>: Failed to resolve 'api.example.com' ([Errno 11001] getaddrinfo failed)\"))\n", "trace": "  File \"E:\\bgtest\\common\\test_utils.py\", line 274, in execute_test_case\n    response = self.execute_http_request(\n        url=case_data['url'],\n    ...<3 lines>...\n        use_allure=use_allure\n    )\n  File \"E:\\bgtest\\common\\test_utils.py\", line 133, in execute_http_request\n    raise Exception(error_msg)\n"}, "steps": [{"name": "准备请求参数", "status": "passed", "attachments": [{"name": "请求参数", "source": "95d1f4ee-9f02-498d-8604-8046b8b86c20-attachment.json", "type": "application/json"}], "start": 1754200683341, "stop": 1754200683343}, {"name": "发送POST请求到 https://api.example.com/chat", "status": "broken", "statusDetails": {"message": "Exception: 请求失败: HTTPSConnectionPool(host='api.example.com', port=443): Max retries exceeded with url: /chat (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000012610A3E490>: Failed to resolve 'api.example.com' ([Errno 11001] getaddrinfo failed)\"))\n", "trace": "  File \"E:\\bgtest\\common\\test_utils.py\", line 133, in execute_http_request\n    raise Exception(error_msg)\n"}, "steps": [{"name": "HTTP请求: POST https://api.example.com/chat", "status": "broken", "statusDetails": {"message": "requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.example.com', port=443): Max retries exceeded with url: /chat (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000012610A3E490>: Failed to resolve 'api.example.com' ([Errno 11001] getaddrinfo failed)\"))\n", "trace": "  File \"E:\\bgtest\\utils\\allure_utils.py\", line 288, in http_request_with_allure\n    response = http_utils.request(method, url, **kwargs)\n  File \"E:\\bgtest\\utils\\http_utils.py\", line 286, in request\n    response = self._make_request(method, url, **kwargs)\n  File \"E:\\bgtest\\utils\\http_utils.py\", line 129, in _make_request\n    response = self.session.request(\n        method=method,\n    ...<3 lines>...\n        **kwargs\n    )\n  File \"C:\\Python313\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Python313\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Python313\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\n"}, "attachments": [{"name": "Request Details", "source": "85c4f5a5-8402-448f-aa90-898af61a5353-attachment.json", "type": "application/json"}, {"name": "HTTP请求异常: POST https://api.example.com/chat", "source": "afe7afb7-e2f9-4f10-8bc2-57481bd2c2f8-attachment.json", "type": "application/json"}], "start": 1754200683343, "stop": 1754200683550}], "attachments": [{"name": "错误信息", "source": "421e6397-494d-4d98-8e27-1d0efb77bcd5-attachment.txt", "type": "text/plain"}], "start": 1754200683343, "stop": 1754200683555}], "attachments": [{"name": "测试用例: error_002", "source": "b6ef876f-f36a-46fb-8a14-22b3d653a4d0-attachment.json", "type": "application/json"}], "start": 1754200683339, "stop": 1754200683558}], "attachments": [{"name": "执行时间", "source": "668d0a6d-e83c-4fe8-86d2-95695f1db234-attachment.txt", "type": "text/plain"}], "start": 1754200681745, "stop": 1754200683562}, {"name": "测试清理: TestChatGatewayAdvanced.test_chat_gateway_error_handling", "status": "passed", "start": 1754200683565, "stop": 1754200683573}], "attachments": [{"name": "log", "source": "35174692-82c6-41cf-80c2-101cffd2f842-attachment.txt", "type": "text/plain"}], "start": 1754200681745, "stop": 1754200683563, "uuid": "a1c940e0-9fb3-4f13-9980-ec22ea886a2d", "historyId": "b51b754f6ff9ac00098a682d0088ad3e", "testCaseId": "b51b754f6ff9ac00098a682d0088ad3e", "fullName": "testcase.test_chat_gateway_optimized.TestChatGatewayAdvanced#test_chat_gateway_error_handling", "labels": [{"name": "feature", "value": "聊天网关"}, {"name": "severity", "value": "normal"}, {"name": "story", "value": "错误处理"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_chat_gateway_optimized"}, {"name": "subSuite", "value": "TestChatGatewayAdvanced"}, {"name": "host", "value": "Ly0217"}, {"name": "thread", "value": "231192-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_chat_gateway_optimized"}], "titlePath": ["testcase", "test_chat_gateway_optimized.py", "TestChatGatewayAdvanced"]}
# é»˜è®¤æŠ¥å‘Šç”Ÿæˆè¡Œä¸º

## ğŸ¯ åŠŸèƒ½è¯´æ˜

ç°åœ¨ `run.py` å·²ç»ä¿®æ”¹ä¸ºé»˜è®¤ç”Ÿæˆæ‰€æœ‰ç±»å‹çš„æµ‹è¯•æŠ¥å‘Šã€‚å½“æ‚¨æ‰§è¡Œ `python run.py` æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ HTMLã€Allure å’Œè¦†ç›–ç‡æŠ¥å‘Šï¼Œç›¸å½“äºæ‰§è¡Œ `python run.py --html --allure --coverage`ã€‚

## ğŸ“‹ ä½¿ç”¨æ–¹å¼

### 1. é»˜è®¤è¡Œä¸ºï¼ˆæ¨èï¼‰
```bash
# æ‰§è¡Œæ‰€æœ‰æµ‹è¯•å¹¶ç”Ÿæˆæ‰€æœ‰æŠ¥å‘Š
python run.py

# æ‰§è¡Œç‰¹å®šæµ‹è¯•å¹¶ç”Ÿæˆæ‰€æœ‰æŠ¥å‘Š
python run.py -k "assertion_utils"
python run.py -m "smoke"
```

### 2. ç¦ç”¨æŠ¥å‘Šç”Ÿæˆ
```bash
# æ‰§è¡Œæµ‹è¯•ä½†ä¸ç”Ÿæˆä»»ä½•æŠ¥å‘Š
python run.py --no-reports

# æ‰§è¡Œç‰¹å®šæµ‹è¯•ä½†ä¸ç”ŸæˆæŠ¥å‘Š
python run.py -k "assertion_utils" --no-reports
```

### 3. é€‰æ‹©æ€§ç”ŸæˆæŠ¥å‘Š
```bash
# åªç”ŸæˆHTMLæŠ¥å‘Š
python run.py --html

# åªç”ŸæˆAllureæŠ¥å‘Š
python run.py --allure

# åªç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
python run.py --coverage

# ç»„åˆç”Ÿæˆç‰¹å®šæŠ¥å‘Š
python run.py --html --allure
```

## ğŸ” å®é™…æµ‹è¯•éªŒè¯

### æµ‹è¯•1ï¼šé»˜è®¤è¡Œä¸º
```bash
python run.py -k "assertion_utils"
```

**è¾“å‡º**:
```
============================================================
æµ‹è¯•æ‰§è¡Œå™¨ - ç»Ÿä¸€æ‰§è¡Œtestcaseç›®å½•ä¸‹çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
============================================================
å°†ç”ŸæˆHTMLæŠ¥å‘Š: report\test_report_20250802_194306.html
å°†ç”ŸæˆAllureæŠ¥å‘Š: report\allure-results-20250802_194306
å°†ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
æ‰§è¡Œç›®å½•: testcase
pytestå‚æ•°: testcase -s -v --tb=short --strict-markers --disable-warnings -k assertion_utils --html=report\test_report_20250802_194306.html --self-contained-html --alluredir=report\allure-results-20250802_194306 --clean-alluredir --cov=testcase --cov-report=html:report/coverage --cov-report=term-missing
```

### æµ‹è¯•2ï¼šç¦ç”¨æŠ¥å‘Š
```bash
python run.py -k "assertion_utils" --no-reports
```

**è¾“å‡º**:
```
============================================================
æµ‹è¯•æ‰§è¡Œå™¨ - ç»Ÿä¸€æ‰§è¡Œtestcaseç›®å½•ä¸‹çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
============================================================
æ‰§è¡Œç›®å½•: testcase
pytestå‚æ•°: testcase -s -v --tb=short --strict-markers --disable-warnings -k assertion_utils
```

## ğŸ“Š ç”Ÿæˆçš„æŠ¥å‘Š

### é»˜è®¤æ‰§è¡Œä¼šç”Ÿæˆï¼š
1. **HTMLæŠ¥å‘Š**: `report/test_report_YYYYMMDD_HHMMSS.html`
2. **AllureæŠ¥å‘Š**: `report/allure-results-YYYYMMDD_HHMMSS/`
3. **è¦†ç›–ç‡æŠ¥å‘Š**: `report/coverage/`

### æŠ¥å‘Šå†…å®¹ï¼š
- âœ… æµ‹è¯•æ‰§è¡Œæ‘˜è¦
- âœ… é€šè¿‡/å¤±è´¥/è·³è¿‡çš„æµ‹è¯•ç»Ÿè®¡
- âœ… è¯¦ç»†çš„æµ‹è¯•ç»“æœåˆ—è¡¨
- âœ… å¤±è´¥æµ‹è¯•çš„é”™è¯¯ä¿¡æ¯å’Œå›æº¯
- âœ… æ‰§è¡Œæ—¶é—´ç»Ÿè®¡
- âœ… ä»£ç è¦†ç›–ç‡åˆ†æ

## ğŸ¯ ä¼˜åŠ¿

### 1. ç®€åŒ–ä½¿ç”¨
- ä¸éœ€è¦è®°ä½å¤æ‚çš„å‚æ•°ç»„åˆ
- ä¸€æ¬¡æ‰§è¡Œå³å¯è·å¾—å®Œæ•´çš„æµ‹è¯•æŠ¥å‘Š
- é€‚åˆæ—¥å¸¸å¼€å‘å’ŒCI/CDä½¿ç”¨

### 2. çµæ´»æ€§
- å¯ä»¥é€šè¿‡ `--no-reports` ç¦ç”¨æŠ¥å‘Šç”Ÿæˆ
- å¯ä»¥é€šè¿‡å•ç‹¬å‚æ•°é€‰æ‹©ç‰¹å®šæŠ¥å‘Šç±»å‹
- ä¿æŒå‘åå…¼å®¹æ€§

### 3. å®Œæ•´æ€§
- é»˜è®¤æä¾›æœ€å…¨é¢çš„æµ‹è¯•ä¿¡æ¯
- åŒ…å«HTMLã€Allureã€è¦†ç›–ç‡ä¸‰ç§æŠ¥å‘Š
- æ»¡è¶³ä¸åŒåœºæ™¯çš„éœ€æ±‚

## ğŸ“ ä½¿ç”¨å»ºè®®

### æ—¥å¸¸å¼€å‘
```bash
# å¿«é€Ÿæ‰§è¡Œæµ‹è¯•å¹¶æŸ¥çœ‹ç»“æœ
python run.py

# æ‰§è¡Œç‰¹å®šæµ‹è¯•
python run.py -k "login"
python run.py -m "smoke"
```

### CI/CD é›†æˆ
```bash
# åœ¨CI/CDä¸­ä½¿ç”¨ï¼Œç”Ÿæˆæ‰€æœ‰æŠ¥å‘Š
python run.py

# å¦‚æœåªéœ€è¦ç‰¹å®šæŠ¥å‘Š
python run.py --html --allure
```

### è°ƒè¯•æ¨¡å¼
```bash
# å¿«é€Ÿæ‰§è¡Œï¼Œä¸ç”ŸæˆæŠ¥å‘Š
python run.py --no-reports

# åªç”ŸæˆHTMLæŠ¥å‘Šç”¨äºå¿«é€ŸæŸ¥çœ‹
python run.py --html
```

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒé€»è¾‘
```python
# é»˜è®¤ç”Ÿæˆæ‰€æœ‰æŠ¥å‘Šï¼Œé™¤éæŒ‡å®šäº† --no-reports
should_generate_reports = not args.no_reports

# æ·»åŠ HTMLæŠ¥å‘Š
if should_generate_reports or args.html:
    # ç”ŸæˆHTMLæŠ¥å‘Šé€»è¾‘

# æ·»åŠ AllureæŠ¥å‘Š
if should_generate_reports or args.allure:
    # ç”ŸæˆAllureæŠ¥å‘Šé€»è¾‘

# æ·»åŠ è¦†ç›–ç‡æŠ¥å‘Š
if should_generate_reports or args.coverage:
    # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šé€»è¾‘
```

### å‚æ•°ä¼˜å…ˆçº§
1. `--no-reports`: ç¦ç”¨æ‰€æœ‰æŠ¥å‘Šç”Ÿæˆ
2. `--html`, `--allure`, `--coverage`: å•ç‹¬å¯ç”¨ç‰¹å®šæŠ¥å‘Š
3. é»˜è®¤è¡Œä¸º: ç”Ÿæˆæ‰€æœ‰æŠ¥å‘Š

## ğŸ‰ æ€»ç»“

æ–°çš„é»˜è®¤è¡Œä¸ºè®© `run.py` æ›´åŠ ç”¨æˆ·å‹å¥½ï¼š

1. **âœ… ç®€åŒ–ä½¿ç”¨**: é»˜è®¤ç”Ÿæˆæ‰€æœ‰æŠ¥å‘Šï¼Œæ— éœ€è®°å¿†å¤æ‚å‚æ•°
2. **âœ… ä¿æŒçµæ´»**: å¯ä»¥é€šè¿‡å‚æ•°æ§åˆ¶æŠ¥å‘Šç”Ÿæˆ
3. **âœ… å‘åå…¼å®¹**: ä¸å½±å“ç°æœ‰çš„å‚æ•°ä½¿ç”¨æ–¹å¼
4. **âœ… å®Œæ•´æ€§**: é»˜è®¤æä¾›æœ€å…¨é¢çš„æµ‹è¯•ä¿¡æ¯

ç°åœ¨æ‚¨åªéœ€è¦æ‰§è¡Œ `python run.py` å°±èƒ½è·å¾—å®Œæ•´çš„æµ‹è¯•æŠ¥å‘Šï¼ 